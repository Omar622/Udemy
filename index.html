<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- css link -->
    <link rel="stylesheet" href="css/main_css.css"/>
    <link rel="stylesheet" href="css/navbar.css"/>
    <link rel="stylesheet" href="css/button.css"/>
    <link rel="stylesheet" href="css/search_navbar.css"/>
    <link rel="stylesheet" href="css/home_page_banner.css"/>

    <!-- icons link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
</head>
<body>
    <!-- javascript -->
    <script>
        // build star rating design
        const build_stars = (rating) => {
            stars = [];
            let rem = 5;
            while(parseFloat(rating, 10) >= .7){
                let newIcon = document.createElement("span")
                newIcon.innerHTML = '<i class="fa fa-star" style="font-size:12px;color:#ebb252"></i>'
                stars.push(newIcon)
                rating -= 1
                --rem;
            }
            if(parseFloat(rating, 10) >= 0.3){
                let newIcon = document.createElement("span")
                newIcon.innerHTML = '<i class="fa fa-star-half-empty" style="font-size:12px;color:#ebb252"></i>'
                stars.push(newIcon)
                --rem;
            }
            while(rem > 0){
                let newIcon = document.createElement("span")
                newIcon.innerHTML = '<i class="fa fa-star-o" style="font-size:12px;color:#ebb252"></i>'
                stars.push(newIcon)
                --rem;
            }
            return stars
        }
        // load specialization data
        const loadData = async (branch) => {
            let response = await fetch("http://localhost:3000/" + branch)
            let json = await response.json()
            return json
        }

        loadData("python").then((res) => {      
            let course_gird = document.querySelector('.courses-grid')      
            for(item of res){
                let newImg = document.createElement("img")
                newImg.src = item["image"]
                newImg.alt = "python"
                newImg.height = "150"
                newImg.width = "260"

                let CourseName = document.createElement("h3");
                CourseName.style.cssText = "margin: 5px"
                let title = item["title"]
                if(title.length > 45) title = title.substring(0, 44) + "..."
                CourseName.append(title)


                let instructorName = document.createElement("p")
                instructorName.classList.add("coures-grid-item-description")
                instructorName.style.cssText = "color: #876f89;"
                instructorName.append(item["author"])

                let rating = document.createElement("p")
                rating.style.cssText = "display: inline; font-size: 12px; color: #ce810e;"
                rating.append(item["rating"] + " ")

                let retedby = document.createElement("p")
                retedby.style.cssText = "display: inline; font-size: 12px; color: #738abb;"
                retedby.append("(" + item["people"] + ")")

                let price = document.createElement("h3");
                price.style.cssText = "margin: 5px"
                price.append("E€ " + item["price"])

                stars = build_stars(parseFloat(item["rating"]))

                let newHeader = document.createElement("header");
                newHeader.style.cssText = "padding-left: 12px;"
                newHeader.append(CourseName)
                newHeader.appendChild(instructorName)
                newHeader.appendChild(rating)
                for(star of stars) newHeader.appendChild(star)
                newHeader.appendChild(retedby)
                newHeader.appendChild(price)

                let newCart = document.createElement("section")
                newCart.classList.add("courses-grid-item")
                newCart.appendChild(newImg)
                newCart.appendChild(newHeader)
                
                course_gird.appendChild(newCart)
            }
        })
    </script>
    <!-- top Navigation bar -->
    <header class="div-nav-bar">
        <!-- burger button (displayed in phone view only) -->
        <button class="phone-view transparent-button nav-bar-item">
            <i style='font-size:22px' class="fa fa-bars"></i>
        </button>

        <!-- udemy icon -->
        <a class="udemy-icon nav-bar-item" href="/">
            <img src="https://www.udemy.com/staticx/udemy/images/v7/logo-udemy.svg"
            alt="udemy" width="91" height="34">
        </a>

        <!-- categories button -->
        <nav >
            <button class="pc-view transparent-button nav-bar-item">
                <span>Categories</span>
            </button>
        </nav>

        <!-- search field (displayed in pc view only)-->
        <form action="/" class="nav-bar-input nav-bar-item">
            <input class="pc-view nav-bar-input-text" type="text" name="search" placeholder="     Search for anything">
            <button class="pc-view transparent-button" type="submit">
                <i class="fa fa-search" style="font-size:24px"></i>
            </button>
        </form>

        <!-- business button (displayed in small-3 mode only)-->
        <nav>
            <button class="sm3 transparent-button nav-bar-item">
                <span>Udemy Business</span>
            </button>
        </nav>
        
        <!-- Teach button (displayed in small-2 mode only)-->
        <nav>
            <button class="sm2 transparent-button nav-bar-item">
                <span>Teach on Udemy</span>
            </button>
        </nav>

        <!-- search button (displayed in phone view only) -->
        <button class="phone-view transparent-button nav-bar-item">
            <i class="fa fa-search" style="font-size:24px"></i>
        </button>

        <!-- shopping button (displayed in phone view only) -->
        <button class="phone-view transparent-button nav-bar-item">
            <i class="material-icons">shopping_cart</i>
        </button>

        <!-- log in button (displayed in pc or larger view only) -->
        <button class="pc-view md-white-black-button nav-bar-item">
            Log in
        </button>

        <!-- sign-up button (displayed in pc or larger view only) -->
        <button class="pc-view md-black-white-button nav-bar-item">
            Sign up
        </button>

        <!-- language button (displayed in pc view only) -->
        <button class="pc-view sm-white-black-button nav-bar-item">
            <i class="material-icons">language</i>
        </button>
    </header>

    <main class="main-content">
        <!-- banner -->
        <section class="banner">
            <div class="content-box-banner">
                <header>
                    <h1 style="font-size:40px">New to Udemy? Lucky you.</h1>
                </header>
                <p style="font-size:24px">courses start at E€ 169.99. Get your new student offer before it expires.</p>
            </div>
            <div class="home-page-banner">
                <img class="home-page-banner-image" src="/images/banner-home-page.jpg"
                alt="offer">
            </div>
        </section>

        <!-- courses -->
        <section class="courses-content">
            <header>
                <h1 style="font-size:35px">A broad selection of courses</h1>
                <p style="font-size:20px">Choose form 185,000 online video with new additions published every month</p>
            </header>
            <div class="courses-box">
                <header>
                    <h3>Expand your career opportunities with Python</h3>
                </header>
                <p>
                    Take one of Udemy's range of Python courses and learn how to code using this incredibly
                    useful language. Its simple syntax and readablility makes Pyton perfect for Flask, Django,
                    data science, and machine learning. You 'll learn how to build everything from games to 
                    sites to apps. Choose from a range of courses that will appeal to...
                </p>
                <button class="lg-white-black-button">
                    Explore Python
                </button>
                <section class="courses-grid">
                    
                </section>
            </div>
        </section>
    </main>
</body>
</html>
